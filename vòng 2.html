<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>Web Thi Ti·∫øng Vi·ªát L·ªõp 1</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 900px; margin: auto; padding: 10px; }
    .question { margin: 15px 0; padding-bottom: 10px; border-bottom: 1px solid #ddd; }
    .timer { font-size: 20px; color: red; font-weight: bold; }
    button { padding: 8px 14px; margin-top: 10px; cursor: pointer; }
    input[type="text"] { padding: 6px; width: 160px; font-size: 16px; }
    label { font-size: 16px; }
  </style>
</head>
<body>

<h1>Web Thi Ti·∫øng Vi·ªát L·ªõp 1</h1>

<div id="login">
  <p>Nh·∫≠p t√™n h·ªçc sinh:</p>
  <input id="studentName" placeholder="Nguy·ªÖn Y·∫øn, Tu·∫•n, Kh√°nh..." />
  <button onclick="startExam()">B·∫Øt ƒë·∫ßu l√†m b√†i</button>
  <p><small>Danh s√°ch h·ª£p l·ªá: Nguy·ªÖn Y·∫øn, Ninh Y·∫øn, Ng·ªçc, B·∫£o, H√¢n, Kh√°nh, Tu·∫•n</small></p>
</div>

<div id="exam" style="display:none;">
  <p class="timer">‚è± Th·ªùi gian c√≤n l·∫°i: <span id="time">30:00</span></p>
  <div id="questionBox"></div>
  <button onclick="submitExam()">N·ªôp b√†i</button>
</div>

<div id="result" style="display:none;"></div>

<script>
const students = ["Nguy·ªÖn Y·∫øn", "Ninh Y·∫øn", "Ng·ªçc", "B·∫£o", "H√¢n", "Kh√°nh", "Tu·∫•n"];

const questions = [
  { type: "mcq", question: "Ch·ªçn ti·∫øng b·∫Øt ƒë·∫ßu b·∫±ng ch·ªØ 'b':", options: ["ba", "ca", "da"], answer: "ba" },
  { type: "input", question: "ƒêi·ªÅn ch·ªØ c√≤n thi·∫øu: _a (ba)", answer: "b" },
  { type: "mcq", question: "Ti·∫øng n√†o c√≥ v·∫ßn 'an'?", options: ["lan", "la", "li"], answer: "lan" },
  { type: "input", question: "ƒêi·ªÅn v·∫ßn c√≤n thi·∫øu: b__ (ban)", answer: "an" },
  { type: "mcq", question: "Ch·ªçn ti·∫øng c√≥ d·∫•u s·∫Øc:", options: ["ma", "m√°", "m√†"], answer: "m√°" },
  { type: "input", question: "ƒêi·ªÅn d·∫•u th√≠ch h·ª£p: m_ (m√°)", answer: "√°" },

  { type: "mcq", question: "Ti·∫øng n√†o c√≥ v·∫ßn 'at'?", options: ["b√°t", "ba", "ban"], answer: "b√°t" },
  { type: "input", question: "ƒêi·ªÅn ch·ªØ c√≤n thi·∫øu: c__ (con)", answer: "o" },
  { type: "mcq", question: "Ch·ªçn ti·∫øng c√≥ d·∫•u huy·ªÅn:", options: ["b√†", "ba", "b√°"], answer: "b√†" },
  { type: "input", question: "ƒêi·ªÅn ch·ªØ c√≤n thi·∫øu: _e (me)", answer: "m" },

  { type: "mcq", question: "Ti·∫øng n√†o c√≥ v·∫ßn 'ong'?", options: ["b√≥ng", "b√≥", "bo"], answer: "b√≥ng" },
  { type: "input", question: "ƒêi·ªÅn v·∫ßn c√≤n thi·∫øu: c__ (cong)", answer: "ong" },
  { type: "mcq", question: "Ch·ªçn ti·∫øng c√≥ d·∫•u h·ªèi:", options: ["m·∫£", "m√†", "m√°"], answer: "m·∫£" },
  { type: "input", question: "ƒêi·ªÅn d·∫•u th√≠ch h·ª£p: m_ (m√†)", answer: "√†" },
  { type: "mcq", question: "Ti·∫øng n√†o c√≥ v·∫ßn 'en'?", options: ["ƒëen", "da", "di"], answer: "ƒëen" },

  { type: "input", question: "ƒêi·ªÅn ch·ªØ c√≤n thi·∫øu: t__ (tay)", answer: "a" },
  { type: "mcq", question: "Ch·ªçn ti·∫øng c√≥ v·∫ßn 'et':", options: ["b√©t", "ba", "b√≤"], answer: "b√©t" },
  { type: "input", question: "ƒêi·ªÅn ch·ªØ c√≤n thi·∫øu: _o (to)", answer: "t" },
  { type: "mcq", question: "Ti·∫øng n√†o c√≥ d·∫•u ng√£?", options: ["m√£", "ma", "m√°"], answer: "m√£" },
  { type: "input", question: "ƒêi·ªÅn ch·ªØ c√≤n thi·∫øu: c__ (c√°)", answer: "√°" },

  { type: "mcq", question: "Ti·∫øng n√†o c√≥ v·∫ßn 'im'?", options: ["chim", "cha", "cho"], answer: "chim" },
  { type: "input", question: "ƒêi·ªÅn ch·ªØ c√≤n thi·∫øu: b__ (b√©)", answer: "√©" },
  { type: "mcq", question: "Ch·ªçn ti·∫øng c√≥ v·∫ßn 'oa':", options: ["hoa", "ha", "ho"], answer: "hoa" },
  { type: "input", question: "ƒêi·ªÅn ch·ªØ c√≤n thi·∫øu: n__ (na)", answer: "a" },
  { type: "mcq", question: "Ti·∫øng n√†o c√≥ d·∫•u n·∫∑ng?", options: ["m·∫°", "ma", "m√°"], answer: "m·∫°" },

  { type: "input", question: "ƒêi·ªÅn ch·ªØ c√≤n thi·∫øu: l__ (l√°)", answer: "√°" },
  { type: "mcq", question: "Ch·ªçn ti·∫øng c√≥ v·∫ßn 'eo':", options: ["heo", "ha", "ho"], answer: "heo" },
  { type: "input", question: "ƒêi·ªÅn ch·ªØ c√≤n thi·∫øu: c__ (co)", answer: "o" },
  { type: "mcq", question: "Ti·∫øng n√†o c√≥ v·∫ßn 'ua'?", options: ["mua", "ma", "me"], answer: "mua" },
  { type: "input", question: "ƒêi·ªÅn ch·ªØ c√≤n thi·∫øu: t__ (to)", answer: "o" }
];

let selectedQuestions = [];
let timer;
let timeLeft = 1800;

function startExam() {
  const name = document.getElementById("studentName").value.trim();
  if (!students.includes(name)) {
    alert("T√™n kh√¥ng h·ª£p l·ªá! H√£y nh·∫≠p ƒë√∫ng t√™n trong danh s√°ch.");
    return;
  }
  document.getElementById("login").style.display = "none";
  document.getElementById("exam").style.display = "block";
  selectedQuestions = shuffle([...questions]).slice(0, 30);
  renderQuestions();
  startTimer();
}

function renderQuestions() {
  const box = document.getElementById("questionBox");
  box.innerHTML = "";
  selectedQuestions.forEach((q, i) => {
    let html = `<div class="question"><p><b>C√¢u ${i+1}:</b> ${q.question}</p>`;
    if (q.type === "mcq") {
      q.options.forEach(opt => {
        html += `<label><input type="radio" name="q${i}" value="${opt}"> ${opt}</label><br>`;
      });
    } else {
      html += `<input type="text" name="q${i}" placeholder="Nh·∫≠p ƒë√°p √°n..." />`;
    }
    html += `</div>`;
    box.innerHTML += html;
  });
}

function startTimer() {
  timer = setInterval(() => {
    timeLeft--;
    const min = Math.floor(timeLeft / 60);
    const sec = timeLeft % 60;
    document.getElementById("time").textContent = `${min}:${sec.toString().padStart(2, "0")}`;
    if (timeLeft <= 0) submitExam();
  }, 1000);
}

function submitExam() {
  clearInterval(timer);
  let correct = 0;
  let resultHTML = "<h2>K·∫øt qu·∫£</h2>";
  selectedQuestions.forEach((q, i) => {
    let userAnswer = "";
    if (q.type === "mcq") {
      const selected = document.querySelector(`input[name="q${i}"]:checked`);
      userAnswer = selected ? selected.value : "";
    } else {
      const input = document.querySelector(`input[name="q${i}"]`);
      userAnswer = input ? input.value.trim() : "";
    }
    const isCorrect = userAnswer === q.answer;
    if (isCorrect) correct++;
    resultHTML += `<p>C√¢u ${i+1}: ${isCorrect ? "‚úÖ ƒê√∫ng" : "‚ùå Sai"} | B·∫°n l√†m: ${userAnswer || "Ch∆∞a l√†m"} | ƒê√°p √°n: <b>${q.answer}</b></p>`;
  });
  resultHTML += `<h3>üèÜ T·ªïng k·∫øt: ƒê√∫ng ${correct}/30 ‚Äì Sai ${30 - correct}</h3>`;
  document.getElementById("exam").style.display = "none";
  const resultBox = document.getElementById("result");
  resultBox.style.display = "block";
  resultBox.innerHTML = resultHTML;
}

function shuffle(arr) {
  return arr.sort(() => Math.random() - 0.5);
}
</script>

</body>
</html>